{"version":3,"sources":["App.js","index.js"],"names":["App","useState","stats","setStats","list","setList","error","setError","year","setYear","useEffect","timeout","setTimeout","clearTimeout","newList","data","reduce","acc","curr","addType","type","toLowerCase","includes","vacation","sickness","parseToVacationAndSickness","console","log","JSON","stringify","class","id","onChange","ev","TSV","parse","target","value","cols","rows","style","color","onClick","whiteSpace","rootElement","document","getElementById","ReactDOM","render"],"mappings":"mNAwBe,SAASA,IACtB,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA0BJ,oBAAS,GAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAwBN,oBAAS,GAAjC,mBAAOO,EAAP,KAAaC,EAAb,KAkBA,OAhBAC,qBAAU,WACR,IAAIC,EAAU,EAMd,OALIL,IACFK,EAAUC,YAAW,WACnBL,GAAS,EACV,GAAE,MAEE,kBAAMM,aAAaF,EAAnB,CACR,GAAE,CAACL,IAEJI,qBAAU,WACR,IAAMI,EArCyB,SAACC,EAAMP,GAAP,OACjCO,EACIA,EAAKC,QACH,SAACC,EAAKC,GAAU,IAAD,EACPC,EAAU,SAACC,GAAD,OACdF,EAAI,KAASG,cAAcC,SAASF,GAAQF,EAAI,UAAgB,CADlD,EAEhB,OAAO,UAAAA,EAAI,YAAJ,SAAcI,SAASd,GAC1B,CACEe,SAAUN,EAAIM,SAAWJ,EAAQ,YACjCK,SAAUP,EAAIO,SAAWL,EAAQ,aAEnCF,CACL,GACD,CACEM,SAAU,EACVC,SAAU,IAGd,EAlB6B,CAqCfC,CAA2BrB,EAAMI,GACjDkB,QAAQC,IAAIb,GACZX,EAASyB,KAAKC,UAAUf,EAAS,KAAM,GACxC,GAAE,CAACV,EAAMI,IAGR,sBAAKsB,MAAM,MAAX,UACE,gEACA,0BACEC,GAAG,gBACHC,SAAU,SAACC,GACT5B,EAAQ6B,MAAIC,MAAMF,EAAGG,OAAOC,OAC7B,EACDC,KAAM,IACNC,KAAM,KAEPjC,GACC,qCACE,mBAAGkC,MAAO,CAAEC,MAAO,OAAnB,wHAIA,wBAAQC,QAAS,kBAAMnC,GAAS,EAAf,EAAjB,kBACA,0BAGJ,sEACA,uBAAOyB,SAAU,SAACC,GAAD,OAAQxB,EAAQwB,EAAGG,OAAOC,MAA1B,IACjB,uBACA,sBAAMG,MAAO,CAAEG,WAAY,YAA3B,SAA0CzC,IAC1C,yBAGL,CCrED,IAAM0C,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAAChD,EAAD,MAEF4C,E","file":"static/js/main.6f946a95.chunk.js","sourcesContent":["import \"./styles.css\";\nimport { useState, useEffect } from \"react\";\nimport { TSV } from \"tsv\";\n\nconst parseToVacationAndSickness = (data, year) =>\n  data\n    ? data.reduce(\n        (acc, curr) => {\n          const addType = (type) =>\n            curr[\"Type\"].toLowerCase().includes(type) ? curr[\"Requested\"] : 0;\n          return curr[\"Date\"]?.includes(year)\n            ? {\n                vacation: acc.vacation + addType(\"vacation\"),\n                sickness: acc.sickness + addType(\"sickness\")\n              }\n            : acc;\n        },\n        {\n          vacation: 0,\n          sickness: 0\n        }\n      )\n    : \"\";\n\nexport default function App() {\n  const [stats, setStats] = useState(\"\");\n  const [list, setList] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [year, setYear] = useState(false);\n\n  useEffect(() => {\n    let timeout = 0;\n    if (error) {\n      timeout = setTimeout(() => {\n        setError(false);\n      }, 10000);\n    }\n    return () => clearTimeout(timeout);\n  }, [error]);\n\n  useEffect(() => {\n    const newList = parseToVacationAndSickness(list, year);\n    console.log(newList);\n    setStats(JSON.stringify(newList, null, 4));\n  }, [list, year]);\n\n  return (\n    <div class=\"App\">\n      <h3>Paste your workday table here:</h3>\n      <textarea\n        id=\"list-textarea\"\n        onChange={(ev) => {\n          setList(TSV.parse(ev.target.value));\n        }}\n        cols={100}\n        rows={20}\n      ></textarea>\n      {error && (\n        <>\n          <p style={{ color: \"red\" }}>\n            This file doesn't look right. .csv file must contain merchant_name\n            and a column with 'brand' in its title.\n          </p>\n          <button onClick={() => setError(false)}>Okay</button>\n          <br />\n        </>\n      )}\n      <h3>Enter the year you're interested in:</h3>\n      <input onChange={(ev) => setYear(ev.target.value)} />\n      <br />\n      <code style={{ whiteSpace: \"pre-line\" }}>{stats}</code>\n      <br />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}